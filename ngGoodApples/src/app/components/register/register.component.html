<div class="container-fluid">
  <div class="row pb-5 align-items-center">
    <div class="col"></div>
    <div class="col-8">
      <form class="form-control px-3 mt-5">
        <h3 class="mt-3 text-center">Create an Account</h3>
        <div class="row">
          <div class="col mt-3">
            <label for="firstName">First Name</label>
            <input
              class="form-control mb-3"
              type="text"
              name="firstName"
              [(ngModel)]="newUser.firstName"
            />
          </div>
          <div class="col mt-3">
            <label for="lastName">Last Name</label>
            <input
              class="form-control mb-3"
              type="text"
              name="lastName"
              [(ngModel)]="newUser.lastName"
            />
          </div>
        </div>
        <div class="row">
          <div class="col-4">
            <label for="username">Username</label>
            <input
              class="form-control mb-3"
              type="text"
              name="username"
              [(ngModel)]="newUser.username"
            />
          </div>
          <div class="col-4">
            <label for="password">Password</label>
            <input
              class="form-control mb-3"
              type="password"
              name="password"
              [(ngModel)]="newUser.password"
            />
          </div>
          <div class="col-4">
            <label for="dateOfBirth">Date of Birth</label>
            <input
              class="form-control mb-3"
              type="date"
              name="dateOfBirth"
              [(ngModel)]="newUser.dateOfBirth"
            />
          </div>
        </div>
        <div class="row">
          <div class="col-8">
            <label for="imageUrl">Image URL</label>
            <input
              class="form-control mb-3"
              type="text"
              name="imageUrl"
              [(ngModel)]="newUser.imageUrl"
            />
          </div>
          <div class="col mt-3">
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="role"
                value="teacher"
                [(ngModel)]="newUser.role"
              />
              <label class="form-check-label" for="teacher"> Teacher </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="role"
                value="parent"
                [(ngModel)]="newUser.role"
              />
              <label class="form-check-label" for="parent"> Parent </label>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <label for="email">Email</label>
            <input
              class="form-control mb-3"
              type="text"
              name="email"
              [(ngModel)]="newUser.email"
            />
          </div>
          <div class="col-6">
            <label for="phone">Phone</label>
            <input
              class="form-control mb-3"
              type="text"
              name="phone"
              [(ngModel)]="newUser.phone"
            />
          </div>
        </div>
        <div class="text-center mb-3">
          <button
            type="button"
            class="btn btn-outline-dark"
            (click)="register(newUser)"
          >
            Register Account
          </button>
        </div>
        <p class="lead text-danger text-center" *ngIf="invalidRegistration">
          Registration failed! Please try again.
        </p>
      </form>
      <h3 class="text-center mt-5">Already have an account?<button class="btn btn-primary mx-3" (click)="open(content)">Login</button></h3>
    </div>
    <div class="col"></div>
  </div>


  <ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Login</h4>
      <button
        type="button"
        class="btn-close"
        aria-label="Close"
        (click)="modal.dismiss('Cross click')"
      ></button>
    </div>
    <div class="modal-body">
      <input
        class="form-control mb-3"
        type="text"
        name="username"
        placeholder="Username"
        [(ngModel)]="loginUser.username"
      />
      <input
        class="form-control mb-3"
        type="password"
        name="password"
        placeholder="Password"
        [(ngModel)]="loginUser.password"
      />
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-outline-dark"
        (click)="login(loginUser)"
      >
        Login
      </button>
    </div>
    <div *ngIf="invalidLogin == true" class="alert alert-warning" role="alert">
      Invalid Login Credentials!
    </div>
  </ng-template>
</div>
