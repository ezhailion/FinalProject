
<div class="container-fluid">

<button class="btn btn-info m-3">
  Draft new message
</button>

<!-- !!!!!!!!!!!!!!!!! PARENTS VERSION !!!!!!!!!!  -->
<div *ngIf="testRoleParent()">
<div class="m-3">
  <form class="form-control">
    <input
    class="form-control mb-3"
    type="text"
    name="content"
    placeholder="Enter message"
    [(ngModel)]="newMessage.content"
  />

  <label for="dropDown">To:</label>
  <select name="recipientUser" id="dropDown"
          [(ngModel)] = "newMessage.recipient.id">
    <option  *ngFor="let contact of teacherContacts"
            [value]="contact.id">
            {{contact.firstName}} {{contact.lastName}}
    </option>

  </select>
  <button class="btn btn-dark" (click)="createNewMessage(newMessage)">Send</button>
  </form>
</div>
</div>


<!-- !!!!!!!!!!!!!! TEACHERS VERSION  -->
<div *ngIf="testRoleTeacher()">
  <div class="m-3">
    <form class="form-control">
      <input
      class="form-control mb-3"
      type="text"
      name="content"
      placeholder="Enter message"
      [(ngModel)]="newMessage.content"
    />

    <label for="dropDown">To:</label>
    <select name="recipientUser" id="dropDown"
            [(ngModel)] = "newMessage.recipient.id">

      <option  *ngFor="let contact of parentContacts"
              [value]="contact.id">
              {{contact.firstName}} {{contact.lastName}}
      </option>

    </select>
    <button class="btn btn-dark" (click)="createNewMessage(newMessage)">Send</button>
    </form>
  </div>
  </div>

<div *ngFor="let message of messages">
  To : {{message.recipient.firstName}} <br>
  {{message.content}}
  <br>
  <button class="btn btn-dark">reply</button>

  <button class="btn btn-secondary"
          (click)="showAllReplies(message.id)"
  >see all</button>
  <hr>
</div>
</div>
